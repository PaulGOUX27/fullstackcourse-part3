{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","service/person.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","handleAddPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Numbers","persons","handleDelete","map","p","key","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setType","useEffect","personService","setSuccessMessage","msg","setTimeout","filteredPersons","person","toLowerCase","includes","event","target","preventDefault","newPerson","some","window","confirm","find","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be3a41f6.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({filter, handleFilter}) => {\n    return (\n        <div>\n            Filter shown with\n            <input value={filter} onChange={handleFilter}/>\n        </div>\n    )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst PersonForm = ({handleAddPerson, newName, handleNewName, newNumber, handleNewNumber}) => {\n    return (\n        <form onSubmit={handleAddPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNewName}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNewNumber}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm;","import React from \"react\";\n\nconst Numbers = ({persons, handleDelete}) => {\n    return (\n        <div>\n            {persons.map(p =>\n                <div key={p.name}>\n                    {p.name} {p.number}\n                    <button onClick={() => handleDelete(p)}>\n                        Delete\n                    </button>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default Numbers;","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React from \"react\";\n\nconst Notification = ({message, type}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, {useEffect, useState} from 'react'\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Numbers from \"./components/Numbers\";\nimport personService from './service/person';\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filter, setFilter] = useState('');\n    const [message, setMessage] = useState(null);\n    const [type, setType] = useState('success')\n    const SUCCESS_NOTIF = 'success'\n    const ERROR_NOTIF = 'error'\n\n    useEffect(() => {\n        personService.getAll()\n            .then(response => {\n                setPersons(response)\n            });\n    }, [])\n\n    const setSuccessMessage = (msg) => {\n        setType(SUCCESS_NOTIF);\n        setMessage(msg);\n        setTimeout(() => {\n            setMessage(null)\n        }, 5000)\n    }\n\n    const setErrorMessage = (msg) => {\n        setType(ERROR_NOTIF);\n        setMessage(msg);\n        setTimeout(() => {\n            setMessage(null)\n        }, 5000)\n    }\n\n    const handleNewName = (event) => {\n        setNewName(event.target.value);\n    }\n\n    const handleNewNumber = (event) => {\n        setNewNumber(event.target.value);\n    }\n\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const handleAddPerson = (event) => {\n        event.preventDefault();\n\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        };\n\n        if (persons.some(person => person.name === newName)) {\n            if (window.confirm(\n                `${newPerson.name} is already added to phonebook, replace the old number with the new one ?`)\n            ) {\n                const id = persons.find(person => person.name.toLowerCase() === newName.toLowerCase()).id\n                personService.update(id, newPerson)\n                    .then((person) => {\n                        setSuccessMessage(`Updated ${person.name}`)\n                        personService.getAll()\n                            .then(response => {\n                                setPersons(response)\n                            });\n                    })\n                    .catch(() => {\n                        //TODO Check status code\n                        setErrorMessage(`Information about ${newName} has already been removed from server.`)\n                    })\n            }\n            return;\n        }\n\n        personService.create(newPerson)\n            .then((person) => {\n                setSuccessMessage(`Created ${person.name}`)\n                personService.getAll()\n                    .then(response => {\n                        setPersons(response)\n                    });\n            })\n\n        setNewName('');\n        setNewNumber('');\n    }\n\n    const handleDelete = (person) => {\n        if (window.confirm(`Delete ${person.name} ?`)) {\n            personService.remove(person.id)\n                .then(() => {\n                        setSuccessMessage(`Delete ${person.name}`)\n\n                        personService.getAll()\n                            .then(response => {\n                                setPersons(response)\n                            });\n                    }\n                );\n        }\n    }\n\n    const filteredPersons =\n        !filter ? persons : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()));\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notification message={message} type={type}/>\n            <Filter filter={filter} handleFilter={handleFilter}/>\n            <h2>Add a new</h2>\n            <PersonForm handleAddPerson={handleAddPerson} handleNewName={handleNewName}\n                        handleNewNumber={handleNewNumber} newName={newName} newNumber={newNumber}/>\n            <h2>Numbers</h2>\n            <Numbers persons={filteredPersons} handleDelete={handleDelete}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}